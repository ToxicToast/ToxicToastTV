syntax = "proto3";

package foodfolio.v1;

option go_package = "toxictoast/services/foodfolio-service/api/proto/foodfolio/v1;foodfoliov1";

import "common.proto";

// Type (Packaging Type) message
message Type {
  string id = 1;
  string name = 2; // "Can", "PET Bottle", "Glass Bottle", "Box", "Bag"
  string slug = 3;
  Timestamps timestamps = 4;

  int32 item_count = 5; // Number of items with this type
}

// Create type request
message CreateTypeRequest {
  string name = 1;
}

// Create type response
message CreateTypeResponse {
  Type type = 1;
}

// Get type response
message GetTypeResponse {
  Type type = 1;
}

// List types request
message ListTypesRequest {
  optional string search = 1;
  PaginationRequest pagination = 2;
  DeletedFilter deleted_filter = 3;
}

// List types response
message ListTypesResponse {
  repeated Type types = 1;
  PaginationResponse pagination = 2;
}

// Update type request
message UpdateTypeRequest {
  string id = 1;
  string name = 2;
}

// Update type response
message UpdateTypeResponse {
  Type type = 1;
}

// Type service
service TypeService {
  rpc CreateType(CreateTypeRequest) returns (CreateTypeResponse);
  rpc GetType(IdRequest) returns (GetTypeResponse);
  rpc ListTypes(ListTypesRequest) returns (ListTypesResponse);
  rpc UpdateType(UpdateTypeRequest) returns (UpdateTypeResponse);
  rpc DeleteType(IdRequest) returns (SuccessResponse);
}
